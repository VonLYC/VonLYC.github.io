---
layout:     post                    # 使用的布局（不需要改）
title:      SQL约束攻击               # 标题 
subtitle:    #副标题
date:       2019-08-05              # 时间
author:     Von                      # 作者
header-img: img/post-bg-BJJ.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    -SQL
    - Web
---
前言
---
这几天做CTF了解到SQL约束攻击的相关知识，特此写篇博客总结一下。（突然发现博客已经N长时间没有更新了）

前置知识
---
在SQL中执行字符串处理时，字符串末尾的空格符将会被删除。
EG:![](http://VonLYC.github.io/img/blog2-1.png)
可以看出，在图中两个SQL查询语句得出的结果是相同的。这是第一个利用的知识点。
在所有的INSERT查询中，SQL都会根据varchar(n)来限制字符串的最大长度。也就是说，如果字符串的长度大于“n”个字符的话，那么仅使用字符串的前“n”个字符。
EG:![](http://VonLYC.github.io/img/blog2-2.png)
之后，mysql将数据进行储存时会将末尾的空格全部删除,因为 mysql 在where 语句后面进行比较时，会用空格将字符长度补全成maxlength。

攻击思路
---
所以当我们想要进入一个后台而又不知道密码时，我们可以以'[管理员(admin)][许多空白字符]1'和一个随机密码进行注册。
